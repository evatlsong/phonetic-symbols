"use strict";function getUrl(e){var t;return window.createObjectURL?t=window.createObjectURL(e):window.createBlobURL?t=window.createBlobURL(e):window.URL&&window.URL.createObjectURL?t=window.URL.createObjectURL(e):window.webkitURL&&window.webkitURL.createObjectURL&&(t=window.webkitURL.createObjectURL(e)),t}function canPlay(e){var t=document.createElement("audio");return!(!t.canPlayType||!t.canPlayType(e).replace(/no/,""))}function getSongs(e){$("#mask").hide(),$("#startup").hide();for(var t,o=[],r=canPlay("audio/mpeg;"),n=canPlay('audio/ogg; codecs="vorbis"'),a=0;a<e.length;a++){var i=e[a],c=i.webkitRelativePath||i.mozFullPath||i.name;if(c.indexOf(".AppleDouble")==-1){var p=i.size||i.fileSize||4096;p<4095||(i.name.indexOf("mp3")!=-1&&r&&o.push(i),i.name.indexOf("ogg")==-1&&i.name.indexOf("oga")==-1||n&&o.push(i),t=getUrl(i),localStorage.setItem(i.name,t))}}}$(function(){var e=document.createElement("audio");e.canPlayType||$("#support").append("Your browser does not support HTML5 Audio<br>"),e.canPlayType&&e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")||$("#support").append("Your browser does not support Ogg Vorbis Playback<br>"),e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,"")||$("#support").append("Your browser does not support MP3 Playback<br>");var t=document.createElement("input");t.type="file","multiple"in t||$("#support").append("Your browser does not support selecting multiple files<br>"),"webkitdirectory"in t||$("#support").append("Your browser probably does not support selecting directories<br>"),window.createObjectURL||window.createBlobURL||window.URL&&window.URL.createObjectURL||window.webkitURL&&window.webkitURL.createObjectURL||$("#support").append("Your browser probably does not support Object URLs<br>"),$("#fileSelect input").on("change",function(){getSongs(this.files)}),$("#fileSelect a").click(function(){return $("#fileSelect input").get(0).click(),!1});var o=function(e){var t,o=$(".modal video").get(0);t=localStorage.getItem(e),o.src=t,o.play(),$(".modal").modal()};$("dl dd").on("click","a",function(){return o($(this).attr("href")),!1})});